(function(a){Drupal.behaviors.devconnect_monetization_recurring_table={attach:function(b){var c={sort:false,"sort-attr":"data-priority","sort-desc":false,autoselect:true,"alternative-spellings":true,"alternative-spellings-attr":"data-alternative-spellings","remove-valueless-options":true,"copy-attributes-to-text-field":true,"autocomplete-plugin":"jquery_ui","relevancy-sorting":true,"relevancy-sorting-partial-match-value":1,"relevancy-sorting-strict-match-value":5,"relevancy-sorting-booster-attr":"data-relevancy-booster",minLength:0,delay:0,autoFocus:true,handle_invalid_input:function(f){var g="option:selected:first";if(f.settings["remove-valueless-options"]){g='option:selected[value!=""]:first'}f.$text_field.val(f.$select_field.find(g).text())},handle_select_field:function(f){return f.hide()},insert_text_field:function(l){var g=a('<input type="text"></input>');if(c["copy-attributes-to-text-field"]){var h={};var f=l.$select_field[0].attributes;for(var k=0;k<f.length;k++){var j=f[k].nodeName;var m=f[k].nodeValue;if(j!=="name"&&j!=="id"&&typeof l.$select_field.attr(j)!=="undefined"){h[j]=m}}g.attr(h)}g.blur(function(){var i=l.$select_field.find("option").map(function(o,p){return a(p).text()});if(a.inArray(g.val(),i)<0&&typeof c.handle_invalid_input==="function"){c.handle_invalid_input(l)}});if(l.settings.autoselect){g.click(function(){this.select()})}var n="option:selected:first";if(l.settings["remove-valueless-options"]){n='option:selected[value!=""]:first'}return g.val(l.$select_field.find(n).text()).insertAfter(l.$select_field)},extract_options:function(g){var i=[];var f=g.find("option");var h=f.length;f.each(function(){var m=a(this);var k={"real-value":m.attr("value"),label:m.text()};if(c["remove-valueless-options"]&&k["real-value"]===""){}else{k.matches=k.label;var n=m.attr(c["alternative-spellings-attr"]);if(n){k.matches+=" "+n}if(c.sort){var l=parseInt(m.attr(c["sort-attr"]),10);if(l){k.weight=l}else{k.weight=h}}if(c["relevancy-sorting"]){k["relevancy-score"]=0;k["relevancy-score-booster"]=1;var j=parseFloat(m.attr(c["relevancy-sorting-booster-attr"]));if(j){k["relevancy-score-booster"]=j}}i.push(k)}});if(c.sort){if(c["sort-desc"]){i.sort(function(k,j){return j.weight-k.weight})}else{i.sort(function(k,j){return k.weight-j.weight})}}return i}};var e={init:function(f){if(/msie/.test(navigator.userAgent.toLowerCase())&&parseInt(navigator.appVersion,10)<=6){return this}else{c=a.extend(c,f);return this.each(function(){var g=a(this);var h={$select_field:g,options:c.extract_options(g),settings:c};h["$text_field"]=c.insert_text_field(h);c.handle_select_field(g);if(typeof c["autocomplete-plugin"]==="string"){d[c["autocomplete-plugin"]](h)}else{c["autocomplete-plugin"](h)}})}}};var d={jquery_ui:function(g){var h=function(l){var m=l.split(" ");var j=[];for(var k=0;k<m.length;k++){if(m[k].length>0){var n={};n.partial=new RegExp(a.ui.autocomplete.escapeRegex(m[k]),"i");if(g.settings["relevancy-sorting"]){n.strict=new RegExp("^"+a.ui.autocomplete.escapeRegex(m[k]),"i")}j.push(n)}}return a.grep(g.options,function(u){var o=0;if(g.settings["relevancy-sorting"]){var r=false;var t=u.matches.split(" ")}for(var s=0;s<j.length;s++){if(j[s]["partial"].test(u.matches)){o++}if(g.settings["relevancy-sorting"]){for(var v=0;v<t.length;v++){if(j[s]["strict"].test(t[v])){r=true;break}}}}if(g.settings["relevancy-sorting"]){var p=0;p+=o*g.settings["relevancy-sorting-partial-match-value"];if(r){p+=g.settings["relevancy-sorting-strict-match-value"]}p=p*u["relevancy-score-booster"];u["relevancy-score"]=p}return!l||j.length===o})};var f=function(k){if(k){if(g.$select_field.val()!==k["real-value"]){g.$select_field.val(k["real-value"]);g.$select_field.change()}}else{var l=g.$text_field.val().toLowerCase();var m={"real-value":false};for(var j=0;j<g.options.length;j++){if(l===g.options[j]["label"].toLowerCase()){m=g.options[j];break}}if(g.$select_field.val()!==m["real-value"]){g.$select_field.val(m["real-value"]||"");g.$select_field.change()}if(m["real-value"]){g.$text_field.val(m.label)}if(typeof g.settings.handle_invalid_input==="function"&&g.$select_field.val()===""){g.settings.handle_invalid_input(g)}}};g.$text_field.autocomplete({minLength:g.settings.minLength,delay:g.settings.delay,autoFocus:g.settings.autoFocus,source:function(j,i){var k=h(j.term);if(g.settings["relevancy-sorting"]){k=k.sort(function(m,l){if(l["relevancy-score"]==m["relevancy-score"]){return l.label<m.label?1:-1}else{return l["relevancy-score"]-m["relevancy-score"]}})}i(k)},select:function(i,j){f(j.item)},change:function(i,j){f(j.item)}});g.$text_field.parents("form:first").submit(function(){f()});f()}};a.fn.selectToAutocomplete=function(f){if(e[f]){return e[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return e.init.apply(this,arguments)}else{a.error("Method "+f+" does not exist on jQuery.fn.selectToAutocomplete")}}};a("select#edit-country").selectToAutocomplete()}}})(jQuery);