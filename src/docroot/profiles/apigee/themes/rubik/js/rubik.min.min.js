(function(a){Drupal.behaviors.rubik={};Drupal.behaviors.rubik.attach=function(b,e){a("div.form:has(div.column-main div.form-actions):not(.rubik-processed)",b).each(function(){var k=a(this);var l=a("div.column-side div.form-actions",k).height()+a("div.column-side div.form-actions",k).offset().top;a(window).scroll(function(){if(a(this).scrollTop()>l){a("div.column-main .column-wrapper > div.form-actions#edit-actions",k).show()}else{a("div.column-main .column-wrapper > div.form-actions#edit-actions",k).hide()}});k.addClass("rubik-processed")});a("a.toggler:not(.rubik-processed)",b).each(function(){var k=a(this).attr("href").split("#")[1];if(a("#"+k).size()>0){a(this).click(function(){var l=a("#"+k);l.toggle();a(this).toggleClass("toggler-active");return false})}else{a(this).addClass("toggler-disabled");a(this).click(function(){return false})}a(this).addClass("rubik-processed")});var j=a(".primary-tabs li.active .secondary-tabs li.active");if(j.length===0){a(".primary-tabs li.active .secondary-tabs li:first-child a").css("display","block")}a(".secondary-tabs li a, .secondary-tabs",b).bind("focus blur",function(){a(this).parents(".secondary-tabs").toggleClass("focused")});var h=e.rubik!==undefined?e.rubik.disable_sticky:false;if(a("#content .column-side .column-wrapper").length!==0){a(".rubik_sidebar_field",b).once("rubik",function(){a(".column-side .column-wrapper").append(a(this))});if(!h){var c=a("#content .column-side .column-wrapper",b);if(c&&c.offset()){var i=c.offset().top;a(window).scroll(function(){if(a(window).scrollTop()>i){c.each(function(){a(this).addClass("fixed");a(this).width(a(this).parent().width())})}else{c.each(function(){a(this).removeClass("fixed");a(this).width(a(this).parent().width())})}})}}}var g=a(".primary-tabs");if(g.length){var f=g.find("> li");d();a(window).resize(function(){d()})}function d(){var m=f.offset().top;var l=[];var k=1;f.removeClass("last-row-link");f.removeClass("first-row-link");f.each(function(n){var o=a(this);if(l[k]!=o.offset().top){k++;l[k]=o.offset().top;o.addClass("first-row-link");if(o.prev("li").length){o.prev("li").addClass("last-row-link")}}if(n===f.length-1){o.addClass("last-row-link")}})}}})(jQuery);