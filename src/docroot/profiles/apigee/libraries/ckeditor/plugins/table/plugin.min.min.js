CKEDITOR.plugins.add("table",{requires:"dialog",lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,ug,uk,vi,zh,zh-cn",icons:"table",hidpi:true,init:function(b){if(b.blockless){return}var c=CKEDITOR.plugins.table,d=b.lang.table;b.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(b.plugins.dialogadvtab?"table"+b.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]}));function a(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(f,g){this.setState(g.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}b.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",a()));b.addCommand("tableDelete",a({exec:function(g){var i=g.elementPath(),h=i.contains("table",1);if(!h){return}var f=h.getParent();if(f.getChildCount()==1&&!f.is("body","td","th")){h=f}var e=g.createRange();e.moveToPosition(h,CKEDITOR.POSITION_BEFORE_START);h.remove();e.select()}}));b.ui.addButton&&b.ui.addButton("Table",{label:d.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");if(b.addMenuItems){b.addMenuItems({table:{label:d.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:d.deleteTable,command:"tableDelete",group:"table",order:1}})}b.on("doubleclick",function(e){var f=e.data.element;if(f.is("table")){e.data.dialog="tableProperties"}});if(b.contextMenu){b.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}});