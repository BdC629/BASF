(function(){var h=CKEDITOR.dom.walker.whitespaces(true),e=CKEDITOR.dom.walker.bookmark(false,true),g=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(j){var l=CKEDITOR.plugins.indent,i=j;l.registerCommands(j,{indentlist:new k(j,"indentlist",true),outdentlist:new k(j,"outdentlist")});function k(n,m){l.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];n.on("key",function(o){if(n.mode!="wysiwyg"){return}if(o.data.keyCode==this.indentKey){var p=this.getContext(n.elementPath());if(p){if(this.isIndent&&f.call(this,n.elementPath(),p)){return}n.execCommand(this.relatedGlobal);o.cancel()}}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(o,r){var q=this.getContext(r),p=f.call(this,r,q);if(!q||!this.isIndent||p){return g}return b}:function(o,q){var p=this.getContext(q);if(!p||this.isIndent){return g}return b},exec:CKEDITOR.tools.bind(c,this)}}CKEDITOR.tools.extend(k.prototype,l.specificDefinition.prototype,{context:{ol:1,ul:1}})}});function c(r){var q=this,t=this.database,k=this.context;function l(A){var P=n.startContainer,Q=n.endContainer;while(P&&!P.getParent().equals(A)){P=P.getParent()}while(Q&&!Q.getParent().equals(A)){Q=Q.getParent()}if(!P||!Q){return false}var I=P,H=[],M=false;while(!M){if(I.equals(Q)){M=true}H.push(I);I=I.getNext()}if(H.length<1){return false}var J=A.getParents(true);for(var N=0;N<J.length;N++){if(J[N].getName&&k[J[N].getName()]){A=J[N];break}}var O=q.isIndent?1:-1,x=H[0],K=H[H.length-1],F=CKEDITOR.plugins.list.listToArray(A,t),v=F[K.getCustomData("listarray_index")].indent;for(N=x.getCustomData("listarray_index");N<=K.getCustomData("listarray_index");N++){F[N].indent+=O;if(O>0){var E=F[N].parent;F[N].parent=new CKEDITOR.dom.element(E.getName(),E.getDocument())}}for(N=K.getCustomData("listarray_index")+1;N<F.length&&F[N].indent>v;N++){F[N].indent+=O}var B=CKEDITOR.plugins.list.arrayToList(F,t,null,r.config.enterMode,A.getDirection());if(!q.isIndent){var w;if((w=A.getParent())&&w.is("li")){var z=B.listNode.getChildren(),D=[],G=z.count(),C;for(N=G-1;N>=0;N--){if((C=z.getItem(N))&&C.is&&C.is("li")){D.push(C)}}}}if(B){B.listNode.replace(A)}if(D&&D.length){for(N=0;N<D.length;N++){var L=D[N],y=L;while((y=y.getNext())&&y.is&&y.getName()in k){if(CKEDITOR.env.needsNbspFiller&&!L.getFirst(a)){L.append(n.document.createText("Â "))}L.append(y)}L.insertAfter(w)}}if(B){r.fire("contentDomInvalidated")}return true}var s=r.getSelection(),j=s&&s.getRanges(),o=j.createIterator(),n;while(n=o.getNextRange()){var m=n.getCommonAncestor(),u=m;while(u&&!(u.type==CKEDITOR.NODE_ELEMENT&&k[u.getName()])){u=u.getParent()}if(!u){if(u=n.startPath().contains(k)){n.setEndAt(u,CKEDITOR.POSITION_BEFORE_END)}}if(!u){var p=n.getEnclosedNode();if(p&&p.type==CKEDITOR.NODE_ELEMENT&&p.getName()in k){n.setStartAt(p,CKEDITOR.POSITION_AFTER_START);n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END);u=p}}if(u&&n.startContainer.type==CKEDITOR.NODE_ELEMENT&&n.startContainer.getName()in k){var i=new CKEDITOR.dom.walker(n);i.evaluator=d;n.startContainer=i.next()}if(u&&n.endContainer.type==CKEDITOR.NODE_ELEMENT&&n.endContainer.getName()in k){i=new CKEDITOR.dom.walker(n);i.evaluator=d;n.endContainer=i.previous()}if(u){return l(u)}}return 0}function f(j,i){if(!i){i=j.contains(this.context)}return i&&j.block&&j.block.equals(i.getFirst(d))}function d(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.is("li")}function a(i){return h(i)&&e(i)}})();