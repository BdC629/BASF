(function(){var c=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,ug,uk,vi,zh,zh-cn",icons:"indent,indent-rtl,outdent,outdent-rtl",init:function(d){var e=CKEDITOR.plugins.indent.genericDefinition;b(d,d.addCommand("indent",new e(true)));b(d,d.addCommand("outdent",new e));if(d.ui.addButton){d.ui.addButton("Indent",{label:d.lang.indent.indent,command:"indent",directional:true,toolbar:"indent,20"});d.ui.addButton("Outdent",{label:d.lang.indent.outdent,command:"outdent",directional:true,toolbar:"indent,10"})}d.on("dirChanged",function(o){var m=d.createRange(),k=o.data.node;m.setStartBefore(k);m.setEndAfter(k);var f=new CKEDITOR.dom.walker(m),g;while(g=f.next()){if(g.type==CKEDITOR.NODE_ELEMENT){if(!g.equals(k)&&g.getDirection()){m.setStartAfter(g);f=new CKEDITOR.dom.walker(m);continue}var j=d.config.indentClasses;if(j){var p=o.data.dir=="ltr"?["_rtl",""]:["","_rtl"];for(var l=0;l<j.length;l++){if(g.hasClass(j[l]+p[0])){g.removeClass(j[l]+p[0]);g.addClass(j[l]+p[1])}}}var h=g.getStyle("margin-right"),n=g.getStyle("margin-left");h?g.setStyle("margin-left",h):g.removeStyle("margin-left");n?g.setStyle("margin-right",n):g.removeStyle("margin-right")}}})}});CKEDITOR.plugins.indent={genericDefinition:function(d){this.isIndent=!!d;this.startDisabled=!this.isIndent},specificDefinition:function(e,d,f){this.name=d;this.editor=e;this.jobs={};this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!f;this.relatedGlobal=f?"indent":"outdent";this.indentKey=f?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(e,d){e.on("pluginsLoaded",function(){for(var f in d){(function(h,j){var i=h.getCommand(j.relatedGlobal);for(var g in j.jobs){i.on("exec",function(k){if(k.data.done){return}h.fire("lockSnapshot");if(j.execJob(h,g)){k.data.done=true}h.fire("unlockSnapshot");CKEDITOR.dom.element.clearAllMarkers(j.database)},this,null,g);i.on("refresh",function(k){if(!k.data.states){k.data.states={}}k.data.states[j.name+"@"+g]=j.refreshJob(h,g,k.data.path)},this,null,g)}h.addFeature(j)})(this,d[f])}})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,d){var f=this.jobs[d];if(f.state!=c){return f.exec.call(this,e)}},refreshJob:function(e,d,g){var f=this.jobs[d];if(!e.activeFilter.checkFeature(this)){f.state=c}else{f.state=f.refresh.call(this,e,g)}return f.state},getContext:function(d){return d.contains(this.context)}};function b(f,g){var e,d;g.on("refresh",function(h){var i=[c];for(var j in h.data.states){i.push(h.data.states[j])}this.setState(CKEDITOR.tools.search(i,a)?a:c)},g,null,100);g.on("exec",function(h){e=f.getSelection();d=e.createBookmarks(1);if(!h.data){h.data={}}h.data.done=false},g,null,0);g.on("exec",function(h){f.forceNextSelectionCheck();e.selectBookmarks(d)},g,null,100)}})();