(function(){var d={editorFocus:false,modes:{wysiwyg:1,source:1}};var a={exec:function(e){e.container.focusNext(true,e.tabIndex)}};var b={exec:function(e){e.container.focusPrevious(true,e.tabIndex)}};function c(e){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(l){if(l.editable().hasFocus){var f=l.getSelection(),r=new CKEDITOR.dom.elementPath(f.getCommonAncestor(),f.root),n;if(n=r.contains({td:1,th:1},1)){var m=l.createRange(),j=CKEDITOR.tools.tryThese(function(){var s=n.getParent(),i=s.$.cells[n.$.cellIndex+(e?-1:1)];i.parentNode.parentNode;return i},function(){var t=n.getParent(),s=t.getAscendant("table"),i=s.$.rows[t.$.rowIndex+(e?-1:1)];return i.cells[e?i.cells.length-1:0]});if(!(j||e)){var p=n.getAscendant("table").$,q=n.getParent().$.cells;var o=new CKEDITOR.dom.element(p.insertRow(-1),l.document);for(var h=0,k=q.length;h<k;h++){var g=o.append(new CKEDITOR.dom.element(q[h],l.document).clone(false,false));g.appendBogus()}m.moveToElementEditStart(o)}else{if(j){j=new CKEDITOR.dom.element(j);m.moveToElementEditStart(j);if(!(m.checkStartOfBlock()&&m.checkEndOfBlock())){m.selectNodeContents(j)}}else{return true}}m.select(true);return true}}return false}}}CKEDITOR.plugins.add("tab",{init:function(g){var f=g.config.enableTabKeyTools!==false,h=g.config.tabSpaces||0,e="";while(h--){e+="Â "}if(e){g.on("key",function(i){if(i.data.keyCode==9){g.insertHtml(e);i.cancel()}})}if(f){g.on("key",function(i){if(i.data.keyCode==9&&g.execCommand("selectNextCell")||i.data.keyCode==CKEDITOR.SHIFT+9&&g.execCommand("selectPreviousCell")){i.cancel()}})}g.addCommand("blur",CKEDITOR.tools.extend(a,d));g.addCommand("blurBack",CKEDITOR.tools.extend(b,d));g.addCommand("selectNextCell",c());g.addCommand("selectPreviousCell",c(true))}})})();CKEDITOR.dom.element.prototype.focusNext=function(b,c){var e=this.$,f=c===undefined?this.getTabIndex():c,i,h,a,g,d,j;if(f<=0){d=this.getNextSourceNode(b,CKEDITOR.NODE_ELEMENT);while(d){if(d.isVisible()&&d.getTabIndex()===0){a=d;break}d=d.getNextSourceNode(false,CKEDITOR.NODE_ELEMENT)}}else{d=this.getDocument().getBody().getFirst();while(d=d.getNextSourceNode(false,CKEDITOR.NODE_ELEMENT)){if(!i){if(!h&&d.equals(this)){h=true;if(b){if(!(d=d.getNextSourceNode(true,CKEDITOR.NODE_ELEMENT))){break}i=1}}else{if(h&&!this.contains(d)){i=1}}}if(!d.isVisible()||(j=d.getTabIndex())<0){continue}if(i&&j==f){a=d;break}if(j>f&&(!a||!g||j<g)){a=d;g=j}else{if(!a&&j===0){a=d;g=j}}}}if(a){a.focus()}};CKEDITOR.dom.element.prototype.focusPrevious=function(b,c){var e=this.$,f=c===undefined?this.getTabIndex():c,i,h,a,g=0,j;var d=this.getDocument().getBody().getLast();while(d=d.getPreviousSourceNode(false,CKEDITOR.NODE_ELEMENT)){if(!i){if(!h&&d.equals(this)){h=true;if(b){if(!(d=d.getPreviousSourceNode(true,CKEDITOR.NODE_ELEMENT))){break}i=1}}else{if(h&&!this.contains(d)){i=1}}}if(!d.isVisible()||(j=d.getTabIndex())<0){continue}if(f<=0){if(i&&j===0){a=d;break}if(j>g){a=d;g=j}}else{if(i&&j==f){a=d;break}if(j<f&&(!a||j>g)){a=d;g=j}}}if(a){a.focus()}};