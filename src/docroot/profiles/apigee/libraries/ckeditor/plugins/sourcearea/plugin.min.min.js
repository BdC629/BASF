(function(){CKEDITOR.plugins.add("sourcearea",{lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,ug,uk,vi,zh,zh-cn",icons:"source,source-rtl",hidpi:true,init:function(b){if(b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE){return}var d=CKEDITOR.plugins.sourcearea;b.addMode("source",function(h){var g=b.ui.space("contents"),e=g.getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",b.config.sourceAreaTabSize||4)));e.setAttribute("dir","ltr");e.addClass("cke_source cke_reset cke_enable_context_menu");b.ui.space("contents").append(e);var f=b.editable(new a(b,e));f.setData(b.getData(1));if(CKEDITOR.env.ie){f.attachListener(b,"resize",c,f);f.attachListener(CKEDITOR.document.getWindow(),"resize",c,f);CKEDITOR.tools.setTimeout(c,0,f)}b.fire("ariaWidget",this);h()});b.addCommand("source",d.commands.source);if(b.ui.addButton){b.ui.addButton("Source",{label:b.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"})}b.on("mode",function(){b.getCommand("source").setState(b.mode=="source"?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});function c(){this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show()}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(b){this.setValue(b);this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(b){this[(b?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})})();CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,readOnly:1,exec:function(a){if(a.mode=="wysiwyg"){a.fire("saveSnapshot")}a.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(a.mode=="source"?"wysiwyg":"source")},canUndo:false}}};