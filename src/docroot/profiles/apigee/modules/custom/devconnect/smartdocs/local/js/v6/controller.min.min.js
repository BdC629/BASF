var apiModelCommon;var apiModelMethods;var apiModelInlineEdit;var apiModelEditor;var apiModelSchema;Apigee.APIModel.authUrl="";Apigee.APIModel.proxyURL;jQuery(function(){apiModelEditor=new Apigee.APIModel.Editor;apiModelSchema=new Apigee.APIModel.Schema;apiModelCommon=new Apigee.APIModel.Common;if(localStorage.getItem("unsupportedBrowserFlag")==null){apiModelCommon.showUnsupportedBrowserAlertMessage()}if(Apigee.APIModel.methodType=="index"){Apigee.APIModel.initIndexEvents()}else{apiModelMethods=new Apigee.APIModel.Methods;apiModelMethods.init();var a=apiModelCommon.getQueryParam(location.href,"editMode");if(a=="1"||a=="2"){apiModelInlineEdit=new Apigee.APIModel.InlineEdit;apiModelInlineEdit.init(parseInt(a))}}});Apigee.APIModel.initIndexEvents=function(){jQuery("a[data-role='method_name']").each(function(){apiModelCommon.shortenText(jQuery(this),20)});jQuery("p[data-role='resource_path']").each(function(){apiModelCommon.shortenText(jQuery(this),25)});jQuery("#index_content").show()};Apigee.APIModel.initMethodsAuthDialogsEvents=function(){jQuery("a.link_open_basicauth").unbind("click").click(function(){apiModelMethods.updateAuthModalFooter("basic_auth_modal")});jQuery("a.link_open_oauth2").unbind("click").click(function(){apiModelMethods.updateAuthModalFooter("oauth2_modal")});jQuery("a.link_open_customtoken").unbind("click").click(function(){apiModelMethods.getCustomTokenCredentials();jQuery("[data-role='custom_token_modal']").modal("show")});jQuery("[data-role='basic_auth_modal']").find(".button_close_modal").unbind("click").click(apiModelCommon.closeAuthModal);jQuery("[data-role='basic_auth_modal']").find(".button_save_modal").unbind("click").click(apiModelMethods.saveAuthModal);jQuery("[data-role='oauth2_modal']").find(".button_close_modal").unbind("click").click(apiModelCommon.closeAuthModal);jQuery("[data-role='oauth2_modal']").find(".button_save_modal").unbind("click").click(apiModelMethods.saveAuthModal);jQuery("[data-role='custom_token_modal']").find(".button_close_modal").unbind("click").click(apiModelCommon.closeAuthModal);jQuery("[data-role='custom_token_modal']").find(".button_save_modal").unbind("click").click(apiModelMethods.saveAuthModal);jQuery("[data-role='basic_auth_container'] .icon-remove").unbind("click").click("basicauth",apiModelMethods.clearSessionStorage);jQuery("[data-role='oauth2_container'] .icon-remove").unbind("click").click("oauth2",apiModelMethods.clearSessionStorage);jQuery("[data-role='custom_token_container'] .icon-remove").unbind("click").click("customtoken",apiModelMethods.clearSessionStorage);jQuery(".authentication .well").unbind("click").click(apiModelMethods.toggleAuthScheme);jQuery("#modal_container.modal input").keyup(function(a){jQuery(this).removeClass("error");jQuery(".modal .error_container").hide().html("")})};Apigee.APIModel.initMethodsPageEvents=function(){jQuery("span").tooltip({selector:"",placement:"top"});jQuery("[data-role='method_url_container'] span.template_param").keyup(function(b){var a=b.which==39?true:false;jQuery(this).removeClass("error");apiModelMethods.clearErrorContainer();apiModelMethods.updateTemplateParamText(jQuery(this));apiModelMethods.updateTemplateParamWidth(jQuery(this),a)}).keypress(function(c){var b=c.keyCode||c.which;var a=b==39?true:false;apiModelMethods.updateTemplateParamWidth(jQuery(this),a)}).blur(function(a){jQuery(this).text(jQuery.trim(jQuery(this).text()))});jQuery("[data-role='query-param-list'] input, [data-role='header-param-list'] input, [data-role='body-param-list'] input, [data-role='param-group-list'] input, [data-role='response_errors_list'] input, [data-role='attachments-list'] input").keyup(function(a){jQuery(this).removeClass("error");apiModelMethods.clearErrorContainer()});jQuery("a.link_reset_default").unbind("click").click(apiModelMethods.resetFields);jQuery("#send_request").unbind("click").click(apiModelMethods.sendRequest);jQuery(".request_response_tabs a").unbind("click").click(apiModelMethods.swapSampleRequestResponseContainer);jQuery("ul[data-role='request-payload-link'] a").unbind("click").click(apiModelMethods.toggleRequestPayload)};Apigee.APIModel.initInlineEditAdminAuthEvents=function(){jQuery("[data-role='edit_auth_modal']").find(".button_save_modal").unbind("click").click(apiModelInlineEdit.saveAuthModal);jQuery("[data-role='edit_auth_modal']").find(".button_close_modal").unbind("click").click(apiModelCommon.closeAuthModal);jQuery("[data-role='confirm_modal']").find(".button_close_modal").unbind("click").click(function(){apiModelCommon.closeAuthModal();apiModelInlineEdit.resetEditableElement();return false});jQuery("[data-role='confirm_modal']").find(".button_save_modal").unbind("click").click(apiModelInlineEdit.handleConfirmDialogSave)};Apigee.APIModel.inlineEditPageEvents=function(){jQuery(".icon-remove").click(function(){apiModelInlineEdit.clearAdminAuthDetails();location.reload()});jQuery("a.auth_admin_email").click(apiModelInlineEdit.reOpenAdminAuthDetails);jQuery("[contenteditable='true'], [data-allow-edit='true']").unbind("hover").hover(apiModelInlineEdit.handleEditPropertiesMouseOver,apiModelInlineEdit.handleEditPropertiesMouseOut);jQuery("[contenteditable='true'], [data-allow-edit='true'], .resource_description").unbind("click").click(apiModelInlineEdit.handleEditableElementsClick);jQuery("a.allow_edit.ok").unbind("click").click(apiModelInlineEdit.makeAPICall);jQuery("a.allow_edit.cancel").unbind("click").click(apiModelInlineEdit.resetEditableElement);jQuery(document).click(apiModelInlineEdit.documentClickHandler)};setAccessTokenAndLocation=function(g,d,c,e,f,a){var b={};b.errorCode=g;b.errorMessage=d;b.accessToken=c;b.accessTokenType=e.toLowerCase();b.accessToeknParamName=f;b.proxyURL=a;apiModelMethods.setOAuth2Credentials(b)};function oAuthAccessTokenAndLocationListener(d){var a=new URL(d.origin);var b=new URL(Apigee.APIModel.authUrl);if(a.host==document.domain||a.host==b.host){var c=d.data;setAccessTokenAndLocation(c.ERRORCODE,c.ERRORMESSAGE,c.ACCESSTOKEN,c.ACCESSTOKENTYPE,c.ACCESSTOKENPARAMNAME,c.PROXYURL)}}window.addEventListener("message",oAuthAccessTokenAndLocationListener,false);